## 多态

有时我们在某些场景，使用相同的接口，但是有不同的实现，比如 `+` 的实现。在 underscore 中也存在许多方法具有类似的性质，比如

```javascript
// 简化过
_.map = function (obj, iteratee, context) {
  iteratee = cb(iteratee, context)

  var length = obj.length,
    results = Array(length)
  for (var index = 0; index < length; index++) {
    results[index] = iteratee(obj[index], index, obj)
  }

  return results
}

// 当 iteratee 是函数时，与 Array.prototype.map 类似
// 但是假如 iteratee 不是函数时
// 1. 什么都不传 - 返回一个相同的数组
_.map([1, 2, 3]) // [1, 2, 3]
// 2. 传入一个对象 - 返回一个元素是否匹配该对象的数组
_.map([{ name: "Kevin" }, { name: "Daisy", age: 18 }], { name: "Daisy" }) // [false, true]
// 3. 传入一个字符串 - 返回一个元素对应属性值的数组
_.map([{ name: "Kevin" }, { name: "Daisy", age: 18 }], "name") // ["Kevin", "daisy"]
```


## cb

```javascript
var cb = function(value, context, argCount) {
  if (_.iteratee !== builtinIteratee) return _.iteratee(value, context)

  if (value === null) return _.identity

  if (_.isFunction(value)) return optimizeCb(value, context, argCount)

  if (_.isObject(value) && !_.isArray(value)) return _.matcher(value)

  return _.property(value)
}
```